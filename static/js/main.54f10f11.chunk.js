(this["webpackJsonpcv-project"]=this["webpackJsonpcv-project"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),i=n.n(s),c=n(12),o=n.n(c),r=(n(18),n(6)),l=n(2),u=n(3),d=n(5),b=n(4),p=n(8),m=n(7),h=(n(19),function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).handleChange=function(t){t.target.validity.valid&&(e.removeError(t),t.target.classList.add("valid")),e.props.onChange(t)},e.validate=function(t){var n=t.target.validity;n.valueMissing?e.displayError(t,"This field is required"):n.typeMismatch?e.displayError(t,"This ".concat(t.target.dataset.label," is not valid")):n.patternMismatch?e.displayError(t,"The ".concat(t.target.dataset.label," must be 10 digits long")):n.valid&&e.removeError(t)},e}return Object(u.a)(n,[{key:"displayError",value:function(e,t){var n=document.querySelector('[name="'.concat(this.props.name,'"] + .errorMessage'));e.target.classList.remove("valid"),e.target.classList.add("invalid"),n.style.display="block",n.textContent=t}},{key:"removeError",value:function(e){var t=document.querySelector('[name="'.concat(this.props.name,'"] + .errorMessage'));e.target.classList.remove("invalid"),e.target.classList.add("valid"),t.style.display="none",t.textContent=""}},{key:"capitalize",value:function(e){return e[0].toUpperCase()+e.slice(1)}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.label,s=e.type,i="phone"===s?"\\d{10}":".+",c={id:t,"data-label":n,name:t,type:s,value:e.value,autoComplete:"off",className:"field",onChange:this.handleChange,onBlur:this.validate,pattern:i,required:!0};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("label",{className:"field-label",htmlFor:t,children:this.capitalize(n)}),"textarea"===s?Object(a.jsx)("textarea",Object(r.a)(Object(r.a)({},c),{},{className:"field textarea"})):Object(a.jsx)("input",Object(r.a)({},c)),Object(a.jsx)("div",{className:"errorMessage"})]})}}]),n}(i.a.Component)),j=(n(10),n(11),function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).initializeState=function(){var e={};return s.props.subsection.forEach((function(t){var n=t.name;e[n]=t.value})),e},s.createInputs=function(e){return e.map((function(e){var t=e.name;return Object(a.jsx)(h,{name:t,label:e.label,type:e.type,value:s.state[t],onChange:s.handleChange},t)}))},s.handleSubmit=function(e){e.preventDefault();var t=e.target.dataset.subsection;e.target.checkValidity()&&s.props.onSubmit(t,s.state)},s.handleChange=function(e){s.setState(Object(m.a)({},e.target.name,e.target.value))},s.state=s.initializeState(),s}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("form",{className:"form",noValidate:!0,"data-subsection":this.props.index,onSubmit:this.handleSubmit,children:[this.createInputs(this.props.subsection),Object(a.jsxs)("div",{className:"btn-container",children:[Object(a.jsx)("button",{type:"submit",className:"btn btn-alt",children:"Update"}),this.props.clonable?Object(a.jsx)("button",{type:"button",className:"btn btn-alt btn-danger",onClick:function(){return e.props.deleteSubsection(e.props.index)},children:"Delete"}):null]})]})})}}]),n}(i.a.Component)),v=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleClick=function(e){a.props.stateless?e.target.classList.add("btn-pops"):(e.target.classList.add("btn-pops-and-turns"),a.state.open?a.props.onClose(e):a.props.onOpen(e),a.setState({open:!a.state.open})),a.props.onClick&&a.props.onClick(e)},a.removeActive=function(e){a.props.stateless?e.target.classList.remove("btn-pops"):(e.target.classList.remove("btn-pops-and-turns"),a.setState({symbol:a.content[+a.state.open]})),a.props.onAnimationEnd&&a.props.onAnimationEnd(e)},a.state={open:!1,symbol:"+"},a.content=["+","\xd7"],a.classes=a.props.className||"",a}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)("button",{onClick:this.handleClick,onAnimationEnd:this.removeActive,className:"btn btn-rounded btn-info "+this.classes,children:this.state.symbol})}}]),n}(i.a.Component),f=(n(20),n(21)),O=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).initializeSubsection=function(){var e=[];return s.props.fields.forEach((function(t){e.push({name:f(t[0]),label:t[0],value:"",type:t[1]})})),e},s.createSubsection=function(){var e=s.initializeSubsection();s.setState((function(t){return{subsections:[].concat(Object(p.a)(t.subsections),[e])}}))},s.deleteSubsection=function(e){s.setState((function(t){var n=Object(p.a)(t.subsections);return n.splice(e,1),{subsections:n}}))},s.createForms=function(){return s.state.subsections.map((function(e,t){return Object(a.jsx)(j,{index:t,subsection:e,clonable:s.props.clonable,onSubmit:s.handleSubmit,deleteSubsection:s.deleteSubsection},f())}))},s.handleSubmit=function(e,t){var n=Object(p.a)(s.state.subsections),a=function(a){n[e].forEach((function(e){e.name===a&&(e.value=t[a])}))};for(var i in t)a(i);s.setState({subsections:n})},s.openForm=function(){s.formContainer.classList.add("slide-in"),s.formContainer.classList.add("show"),s.addSubsectionBtn&&(s.addSubsectionBtn.classList.add("full-opacity"),s.addSubsectionBtn.classList.add("btn-pops-delayed"))},s.closeForm=function(){s.formContainer.classList.remove("slide-in"),s.formContainer.classList.remove("show"),s.addSubsectionBtn&&s.addSubsectionBtn.classList.remove("full-opacity")},s.animationEnd=function(e){e.target.classList.remove("btn-pops-delayed")},s.state={subsections:[s.initializeSubsection()]},s}return Object(u.a)(n,[{key:"formatDate",value:function(e){return""===e?"":new Date(e).toLocaleString("en-GB",{day:"numeric",month:"long",year:"numeric"})}},{key:"render",value:function(){var e=this,t=this.createForms(),n=this.state.subsections.map((function(t){return Object(a.jsx)("div",{className:"subsection",children:t.map((function(t){return Object(a.jsxs)("div",{className:t.label,children:[Object(a.jsx)("span",{className:"label",children:t.label}),"date"===t.label?e.formatDate(t.value):t.value]},f())}))},f())})),s=this.props.clonable?Object(a.jsx)(v,{className:"btn-addSubsection",stateless:!0,onAnimationEnd:this.animationEnd,onClick:this.createSubsection}):null;return Object(a.jsx)("div",{className:"overflow-container",children:Object(a.jsxs)("div",{name:this.props.title,className:"container",children:[Object(a.jsxs)("div",{className:"card",children:[Object(a.jsxs)("div",{className:"card_content",children:[Object(a.jsx)("h2",{className:"section-title",children:this.props.title}),n]}),Object(a.jsx)("div",{className:"edit-section",children:Object(a.jsx)(v,{onOpen:this.openForm,onClose:this.closeForm,stateless:!1})})]}),Object(a.jsxs)("div",{className:"form-displayer",children:[Object(a.jsx)("div",{className:"form-container",children:t}),s]})]})})}},{key:"componentDidMount",value:function(){this.formContainer=document.querySelector('[name="'.concat(this.props.title,'"] .form-container')),this.addSubsectionBtn=document.querySelector('[name="'.concat(this.props.title,'"] .btn-addSubsection'))}}]),n}(i.a.Component),y=(n(23),function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={0:{title:"Profile",clonable:!1,fields:[["name","text"],["email","email"],["phone","phone"]]},1:{title:"Education",clonable:!0,fields:[["institution","text"],["degree","text"],["date","date"]]},2:{title:"Work",clonable:!0,fields:[["company","text"],["position","text"],["description","textarea"],["date","date"]]}},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=Object.keys(this.state).map((function(t){return Object(a.jsx)(O,Object(r.a)({},e.state[+t]),+t)}));return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("header",{children:"CV App"}),t]})}}]),n}(i.a.Component));o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(y,{})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.54f10f11.chunk.js.map